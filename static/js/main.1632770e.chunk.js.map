{"version":3,"sources":["components/Button/button.tsx","components/Kanban/assets/emergency.svg","components/Kanban/assets/high.svg","components/Kanban/assets/middle.svg","components/Kanban/assets/low.svg","components/Kanban/assets/bug.svg","components/Kanban/util.ts","components/Kanban/kanban.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ButtonSize","ButtonType","Button","props","children","disabled","className","size","href","btnType","restProps","classes","classNames","defaultProps","Default","getKanbanTitle","index","switchIssueType","issueType","emergency","high","middle","low","bug","Kanban","records","onIssueClick","onIssueDragEnd","useState","state","setState","useEffect","status1","filter","item","status","status2","status3","status4","onDragEnd","result","source","destination","sInd","droppableId","dInd","issue","droppableSource","droppableDestination","sourceClone","Array","from","destClone","splice","removed","move","newState","map","el","ind","provided","snapshot","ref","innerRef","droppableProps","isDraggingOver","length","draggableId","id","draggableProps","dragHandleProps","onClick","title","deadline","alt","src","placeholder","App","Primary","Danger","Small","Large","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1632770e.chunk.js","sourcesContent":["import React from 'react'\nimport classNames from 'classnames'\n\nexport enum ButtonSize {\n    Large = 'lg',\n    Small = 'sm'\n}\n\nexport enum ButtonType {\n    Primary = 'primary',\n    Default = 'default',\n    Danger = 'danger',\n}\n\ninterface BaseButtonProps {\n    className?: string;\n    disabled?: boolean;\n    size?: ButtonSize;\n    btnType?: ButtonType;\n    children: React.ReactNode;\n    href?: string;\n}\n\ntype NativeButtonProps = BaseButtonProps & React.BaseHTMLAttributes<HTMLElement>\n\nconst Button: React.FC<NativeButtonProps> = (props) => {\n    const {children, disabled, className, href, size, btnType, ...restProps} = props;\n    const classes = classNames('devops-btn', className, {\n        [`devops-btn-${btnType}`]: btnType,\n        [`devops-btn-${size}`]: size,\n        'disabled': disabled\n    })\n\n    return (\n        <button\n            className={classes}\n            disabled={disabled}\n            {...restProps}\n        >\n            <span>{children}</span>\n        </button>\n    )\n}\n\nButton.defaultProps = {\n    disabled: false,\n    btnType: ButtonType.Default\n}\n\nexport default Button\n","export default __webpack_public_path__ + \"static/media/emergency.c4d66385.svg\";","export default __webpack_public_path__ + \"static/media/high.1a2b660d.svg\";","export default __webpack_public_path__ + \"static/media/middle.a1dafc38.svg\";","export default __webpack_public_path__ + \"static/media/low.3a41ebe1.svg\";","export default __webpack_public_path__ + \"static/media/bug.6124012a.svg\";","import { IssueType } from \"./kanban\";\nimport emergency from './assets/emergency.svg';\nimport high from './assets/high.svg';\nimport middle from './assets/middle.svg';\nimport low from './assets/low.svg';\nimport bug from './assets/bug.svg';\n\nexport function getKanbanTitle(index: number) {\n    switch (index) {\n        case 0:\n            return '未开始';\n        case 1:\n            return '开发中';\n        case 2:\n            return '测试中';\n        case 3:\n            return '已完成';\n        default:\n            return '未知'\n    }\n}\n\nexport function switchIssueType(issueType: IssueType) {\n    switch (issueType) {\n        case \"emergency\":\n            return emergency;\n        case \"high\":\n            return high;\n        case \"middle\":\n            return middle;\n        case \"low\":\n            return low;\n        default:\n            return bug\n    }\n}","import React, { useEffect, useState } from \"react\";\n// @ts-ignore\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { switchIssueType, getKanbanTitle } from \"./util\";\n\n/**\n * Moves an item from one list to another list.\n * source: 源数组\n * destination: 目标数组\n * droppableSource: 源拖拽对象\n * droppableDestination: 拖拽处的上面对象\n */\nconst move = (source: Iterable<any> | ArrayLike<any>, destination: Iterable<any> | ArrayLike<any>, droppableSource: { index: number; droppableId: string | number; }, droppableDestination: { index: number; droppableId: string | number; }) => {\n    const sourceClone = Array.from(source);\n    const destClone = Array.from(destination);\n    const [removed] = sourceClone.splice(droppableSource.index, 1);\n\n    destClone.splice(droppableDestination.index, 0, removed);\n\n    const result: any = {};\n    result[droppableSource.droppableId] = sourceClone;\n    result[droppableDestination.droppableId] = destClone;\n\n    return result;\n};\n\nexport type Status = 'notStarted' | 'dev' | 'test' | 'done';\n\nexport type IssueType = 'emergency' | 'high' | 'middle' | 'low';\n\nexport interface Issue {\n    id: number,\n    title: string,\n    status: Status,\n    issueType: IssueType,\n    deadline?: string,\n}\n\nexport interface KanbanProps {\n    onIssueClick?: (issue: Issue) => void;\n    records?: Issue[];\n    onIssueDragEnd?: (issue: Issue, targetStatus: number) => void;\n}\n\n\nconst Kanban: React.FC<KanbanProps> = (props) => {\n    const {records = [], onIssueClick, onIssueDragEnd} = props;\n\n    const [state, setState] = useState<any[]>([[], [], [], []]);\n\n    useEffect(() => {\n        const status1 = records.filter(item => item.status === 'notStarted');\n        const status2 = records.filter(item => item.status === 'dev');\n        const status3 = records.filter(item => item.status === 'test');\n        const status4 = records.filter(item => item.status === 'done');\n        const backlog = [status1, status2, status3, status4];\n        setState(backlog);\n\n    }, [records]);\n\n    function onDragEnd(result: any) {\n        const {source, destination} = result;\n        // dropped outside the list\n        if (!destination) {\n            return;\n        }\n        const sInd = +source.droppableId;\n        const dInd = +destination.droppableId;\n\n        const issue = state[sInd][source.index];\n        const targetStatus = dInd + 1;\n        if (onIssueDragEnd) {\n            onIssueDragEnd(issue, targetStatus);\n        }\n\n        if (sInd === dInd) {\n            return;\n        } else {\n            const result = move(state[sInd], state[dInd], source, destination);\n            const newState = [...state];\n            newState[sInd] = result[sInd];\n            newState[dInd] = result[dInd];\n            setState(newState);\n        }\n    }\n\n    return (\n        <div>\n            <div className={'kanban-wrapper'}>\n                <div className={'column-container'}>\n                    <div className={'column-wrapper'}>\n                        <DragDropContext onDragEnd={onDragEnd}>\n                            {state.map((el, ind) => (\n                                <Droppable key={ind} droppableId={`${ind}`}>\n                                    {(provided: any, snapshot: any) => (\n                                        <div\n                                            className={'column'}\n                                            ref={provided.innerRef}\n                                            {...provided.droppableProps}\n                                        >\n                                            {\n                                                snapshot.isDraggingOver &&\n                                                <div className={'mask'}>\n                                                    <span>{getKanbanTitle(ind)}</span>\n                                                </div>\n                                            }\n                                            <div className={'column-header'}>\n                                                <div className=\"title\">{getKanbanTitle(ind)}</div>\n                                                <div className={'num-tag'}>{el.length}</div>\n                                            </div>\n                                            <div className={'items'}>\n                                                {el.map((item: Issue, index: number) => (\n                                                    <Draggable\n                                                        key={`${item.id}`}\n                                                        draggableId={`${item.id}`}\n                                                        index={index}\n                                                    >\n                                                        {(provided: any, snapshot: any) => (\n                                                            <div\n                                                                className={'card'}\n                                                                ref={provided.innerRef}\n                                                                {...provided.draggableProps}\n                                                                {...provided.dragHandleProps}\n                                                            >\n                                                                <div className={'header'} onClick={() => {\n                                                                    onIssueClick && onIssueClick(item)\n                                                                }}>\n                                                                    <div className={'title'}>{item.title}</div>\n                                                                    {/* 预留做标签的section*/}\n                                                                    <div className=\"label-section\">\n                                                                        {/*const shortName = !isEmpty(name) ? name.substring(0,2) : '';*/}\n                                                                        {item.deadline &&\n                                                                        <span\n                                                                            className={'date-label'}>{item.deadline}截止</span>}\n                                                                    </div>\n                                                                    <div className={'footer'}>\n                                                                        <div className={'left'}>\n                                                                            <img alt={item.issueType}\n                                                                                 src={switchIssueType(item.issueType)}/>\n                                                                            <span className={'id'}>#{item.id}</span>\n                                                                        </div>\n                                                                        {/*<div className={'right'}>*/}\n                                                                        {/*    <div*/}\n                                                                        {/*        className={'priority'}>{switchPriority(item.priority)}</div>*/}\n                                                                        {/*    <div>{switchStatusType(item.status)}</div>*/}\n                                                                        {/*</div>*/}\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        )}\n                                                    </Draggable>\n                                                ))}\n                                            </div>\n                                            {provided.placeholder}\n                                        </div>\n                                    )}\n                                </Droppable>\n                            ))}\n                        </DragDropContext>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Kanban\n","import React from 'react';\nimport Button, { ButtonSize, ButtonType } from \"./components/Button/button\";\nimport './styles/index.scss'\nimport './App.css'\nimport Kanban from \"./components/Kanban/kanban\";\n\nfunction App() {\n    return (\n        <>\n            <div>\n                <Button btnType={ButtonType.Primary}> 注 册 </Button>\n                <Button btnType={ButtonType.Default}> 登 录 </Button>\n                <Button btnType={ButtonType.Default} disabled> 登 录(disabled) </Button>\n                <Button btnType={ButtonType.Danger}> 删 除 </Button>\n                <Button btnType={ButtonType.Danger} disabled> 删 除 </Button>\n            </div>\n            <div>\n                <Button size={ButtonSize.Small} btnType={ButtonType.Primary}> 注 册 </Button>\n                <Button size={ButtonSize.Small} btnType={ButtonType.Default}> 登 录 </Button>\n                <Button size={ButtonSize.Small} btnType={ButtonType.Default} disabled> 登 录(disabled) </Button>\n                <Button size={ButtonSize.Small} btnType={ButtonType.Danger}> 删 除 </Button>\n                <Button size={ButtonSize.Small} btnType={ButtonType.Danger} disabled> 删 除 </Button>\n            </div>\n            <div>\n                <Button size={ButtonSize.Large} btnType={ButtonType.Primary}> 注 册 </Button>\n                <Button size={ButtonSize.Large} btnType={ButtonType.Default}> 登 录 </Button>\n                <Button size={ButtonSize.Large} btnType={ButtonType.Default} disabled> 登 录(disabled) </Button>\n                <Button size={ButtonSize.Large} btnType={ButtonType.Danger}> 删 除 </Button>\n                <Button size={ButtonSize.Large} btnType={ButtonType.Danger} disabled> 删 除 </Button>\n            </div>\n            <div>\n                <Kanban\n                    records={[\n                        {\n                            id: 1,\n                            title: 'test',\n                            status: 'done',\n                            issueType:\"emergency\",\n                            deadline: '2021年9月10日'\n                        },\n                        {\n                            id: 2,\n                            title: '需求2',\n                            status: 'dev',\n                            issueType:\"low\",\n                            deadline: '2021年9月10日'\n                        },\n\n                    ]}\n                    // onIssueDragEnd={(issue, targetStatus) => {\n                    //     alert(`Issue ${JSON.stringify(issue)} 被拖放至 ${targetStatus}`);\n                    // }}\n                    // onIssueClick={(issue) => {\n                    //     alert(`Issue ${JSON.stringify(issue)} 被点击`);\n                    // }}\n                />\n            </div>\n        </>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}