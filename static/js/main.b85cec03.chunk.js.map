{"version":3,"sources":["components/Button/button.tsx","components/Kanban/assets/Svg.tsx","components/Kanban/util.tsx","components/Kanban/kanban.tsx","App.tsx","components/Button/index.tsx","index.tsx"],"names":["Button","props","children","disabled","className","size","href","btnType","restProps","classes","classNames","defaultProps","Bug","width","height","xmlns","fill","opacity","rx","d","Emergency","cx","cy","r","High","Low","Middle","x","y","ShiShi","Xuqiu","Renwu","getKanbanTitle","index","switchIssuePriority","issueType","switchIssueType","Kanban","records","onIssueClick","onIssueDragEnd","useState","state","setState","useEffect","status1","filter","item","status","status2","status3","status4","style","onDragEnd","result","source","destination","sInd","droppableId","dInd","issue","droppableSource","droppableDestination","sourceClone","Array","from","destClone","splice","removed","move","newState","map","el","ind","provided","snapshot","ref","innerRef","droppableProps","isDraggingOver","length","draggableId","id","draggableProps","dragHandleProps","onClick","title","deadline","priority","placeholder","App","targetStatus","alert","JSON","stringify","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b85cec03.chunk.js","sourcesContent":["import React from 'react'\r\nimport classNames from 'classnames'\r\n\r\ntype ButtonType = 'primary'|'default'|'danger'\r\ntype ButtonSize = 'lg'|'sm'|'default'\r\n\r\n\r\ninterface BaseButtonProps {\r\n    className?: string;\r\n    disabled?: boolean;\r\n    size?: ButtonSize;\r\n    btnType?: ButtonType;\r\n    children: React.ReactNode;\r\n    href?: string;\r\n}\r\n\r\ntype NativeButtonProps = BaseButtonProps & React.BaseHTMLAttributes<HTMLElement>\r\n\r\nconst Button: React.FC<NativeButtonProps> = (props) => {\r\n    const {children, disabled, className, href, size, btnType, ...restProps} = props;\r\n    const classes = classNames('devops-btn', className, {\r\n        [`devops-btn-${btnType}`]: btnType,\r\n        [`devops-btn-${size}`]: size,\r\n        'disabled': disabled\r\n    })\r\n\r\n    return (\r\n        <button\r\n            className={classes}\r\n            disabled={disabled}\r\n            {...restProps}\r\n        >\r\n            <span>{children}</span>\r\n        </button>\r\n    )\r\n}\r\n\r\nButton.defaultProps = {\r\n    btnType: 'default',\r\n    size: 'default',\r\n    disabled: false,\r\n}\r\n\r\nexport default Button\r\n","import React from \"react\";\r\nexport const Bug = (\r\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g fill-rule=\"nonzero\" fill=\"none\"><rect fill=\"#FD9B47\" opacity=\".15\" width=\"16\" height=\"16\" rx=\"2\"/><path d=\"M8 3.25a4.75 4.75 0 100 9.5 4.75 4.75 0 000-9.5zm0 1.5a3.25 3.25 0 110 6.5 3.25 3.25 0 010-6.5z\" fill=\"#FF871F\"/></g></svg>\r\n);\r\nexport const Emergency = (\r\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><circle fill=\"#F24C3D\" cx=\"8\" cy=\"8\" r=\"8\"/><path d=\"M8.625 3.82a1 1 0 0 1 .156.156l2.57 3.212A.5.5 0 0 1 10.96 8H9v4a1 1 0 0 1-2 0V8H5.04a.5.5 0 0 1-.39-.812l2.57-3.212a1 1 0 0 1 1.405-.156z\" fill=\"#FFF\"/></g></svg>\r\n);\r\n\r\nexport const High = (\r\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><circle fill=\"#FF9940\" cx=\"8\" cy=\"8\" r=\"8\"/><path d=\"M8.864 5.48l2.197 3.768a.5.5 0 0 1-.432.752H5.371a.5.5 0 0 1-.432-.752l2.197-3.767a1 1 0 0 1 1.728 0z\" fill=\"#FFF\"/></g></svg>\r\n);\r\n\r\nexport const Low = (\r\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><circle fill=\"#73CC33\" cx=\"8\" cy=\"8\" r=\"8\"/><path d=\"M8.864 10.52l2.197-3.768A.5.5 0 0 0 10.63 6H5.371a.5.5 0 0 0-.432.752l2.197 3.767a1 1 0 0 0 1.728 0z\" fill=\"#FFF\"/></g></svg>\r\n);\r\n\r\nexport const Middle = (\r\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><circle fill=\"#FC3\" cx=\"8\" cy=\"8\" r=\"8\"/><rect fill=\"#FFF\" x=\"5\" y=\"6.5\" width=\"6\" height=\"3\" rx=\"1\"/></g></svg>\r\n);\r\n\r\n// IssueType SVG\r\nexport const ShiShi = (\r\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><rect fill=\"#904EE2\" fill-rule=\"nonzero\" opacity=\".15\" width=\"16\" height=\"16\" rx=\"2\"/><path d=\"M12.962 6.575a.417.417 0 0 0-.378-.243H8.117l.704-2.816a.417.417 0 0 0-.72-.372L3.1 8.98a.417.417 0 0 0 .316.687h4.466l-.703 2.816a.417.417 0 0 0 .72.372l5-5.834a.417.417 0 0 0 .063-.445z\" fill-rule=\"nonzero\" fill=\"#9046EB\"/></g></svg>\r\n);\r\n\r\nexport const Xuqiu = (\r\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g fill-rule=\"nonzero\" fill=\"none\"><rect fill=\"#1A78FF\" opacity=\".15\" width=\"16\" height=\"16\" rx=\"2\"/><path d=\"M9.75 12v2h-3.5v-2h3.5zM8 2c2.2 0 4 1.8 4 4 0 1.393-.722 2.666-1.823 3.362L10 9.467 9.778 11H6.222L6 9.467C4.8 8.8 4 7.467 4 6c0-2.2 1.8-4 4-4zm0 1.778A2.234 2.234 0 0 0 5.778 6c0 .805.436 1.552 1.085 1.913l.77.427.128.882h.478l.128-.882.77-.427c.65-.361 1.085-1.108 1.085-1.913A2.234 2.234 0 0 0 8 3.778z\" fill=\"#0070FF\"/></g></svg>\r\n)\r\nexport const Renwu = (\r\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><rect fill=\"#09B1E5\" fill-rule=\"nonzero\" opacity=\".146\" width=\"16\" height=\"16\" rx=\"2\"/><path d=\"M4.5 9.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm8 .75a.75.75 0 01.102 1.493l-.102.007h-4a.75.75 0 01-.102-1.493l.102-.007h4zm-8-6.75a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm8 .75a.75.75 0 01.102 1.493l-.102.007h-4a.75.75 0 01-.102-1.493L8.5 4.25h4z\" fill=\"#00ABE0\"/></g></svg>)","import { IssueType, Priority } from \"./kanban\";\r\nimport { Bug, Emergency, High, Low, Middle, Renwu, ShiShi, Xuqiu } from \"./assets/Svg\";\r\n\r\nexport function getKanbanTitle(index: number) {\r\n    switch (index) {\r\n        case 0:\r\n            return '未开始';\r\n        case 1:\r\n            return '开发中';\r\n        case 2:\r\n            return '测试中';\r\n        case 3:\r\n            return '已完成';\r\n        default:\r\n            return '未知'\r\n    }\r\n}\r\n\r\nexport function switchIssuePriority(issueType: Priority) {\r\n    switch (issueType) {\r\n        case \"emergency\":\r\n            return Emergency;\r\n        case \"high\":\r\n            return High;\r\n        case \"middle\":\r\n            return Middle;\r\n        case \"low\":\r\n            return Low;\r\n        default:\r\n            return Bug;\r\n    }\r\n}\r\n\r\n\r\nexport const switchIssueType = (issueType: IssueType) => {\r\n    switch (issueType) {\r\n        case \"shishi\":\r\n            return ShiShi;\r\n        case \"xuqiu\":\r\n            return Xuqiu;\r\n        case \"bug\":\r\n            return Bug;\r\n        case \"renwu\":\r\n            return Renwu;\r\n        default:\r\n            return ShiShi;\r\n    }\r\n};","import React, { useEffect, useState } from \"react\";\r\n// @ts-ignore\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { switchIssuePriority, getKanbanTitle, switchIssueType } from \"./util\";\r\n\r\n/**\r\n * Moves an item from one list to another list.\r\n * source: 源数组\r\n * destination: 目标数组\r\n * droppableSource: 源拖拽对象\r\n * droppableDestination: 拖拽处的上面对象\r\n */\r\nconst move = (source: Iterable<any> | ArrayLike<any>, destination: Iterable<any> | ArrayLike<any>, droppableSource: { index: number; droppableId: string | number; }, droppableDestination: { index: number; droppableId: string | number; }) => {\r\n    const sourceClone = Array.from(source);\r\n    const destClone = Array.from(destination);\r\n    const [removed] = sourceClone.splice(droppableSource.index, 1);\r\n\r\n    destClone.splice(droppableDestination.index, 0, removed);\r\n\r\n    const result: any = {};\r\n    result[droppableSource.droppableId] = sourceClone;\r\n    result[droppableDestination.droppableId] = destClone;\r\n\r\n    return result;\r\n};\r\n\r\nexport type Status = 'notStarted' | 'dev' | 'test' | 'done';\r\n\r\nexport type Priority = 'emergency' | 'high' | 'middle' | 'low';\r\n\r\nexport type IssueType = 'shishi' | 'xuqiu' | 'renwu' | 'bug';\r\n\r\nexport interface Issue {\r\n    id: number,\r\n    title: string,\r\n    status: Status,\r\n    priority: Priority,\r\n    issueType: IssueType,\r\n    deadline?: string,\r\n}\r\n\r\nexport interface KanbanProps {\r\n    onIssueClick?: (issue: Issue) => void;\r\n    records?: Issue[];\r\n    onIssueDragEnd?: (issue: Issue, targetStatus: number) => void;\r\n    height?: string;\r\n}\r\n\r\n\r\nconst Kanban: React.FC<KanbanProps> = (props) => {\r\n    const {records = [], onIssueClick, onIssueDragEnd, height} = props;\r\n\r\n    const [state, setState] = useState<any[]>([[], [], [], []]);\r\n\r\n    useEffect(() => {\r\n        const status1 = records.filter(item => item.status === 'notStarted');\r\n        const status2 = records.filter(item => item.status === 'dev');\r\n        const status3 = records.filter(item => item.status === 'test');\r\n        const status4 = records.filter(item => item.status === 'done');\r\n        const backlog = [status1, status2, status3, status4];\r\n        setState(backlog);\r\n\r\n    }, [records]);\r\n\r\n    function onDragEnd(result: any) {\r\n        const {source, destination} = result;\r\n        // dropped outside the list\r\n        if (!destination) {\r\n            return;\r\n        }\r\n        const sInd = +source.droppableId;\r\n        const dInd = +destination.droppableId;\r\n\r\n        const issue = state[sInd][source.index];\r\n        const targetStatus = dInd;\r\n        if (onIssueDragEnd) {\r\n            onIssueDragEnd(issue, targetStatus);\r\n        }\r\n\r\n        if (sInd === dInd) {\r\n            return;\r\n        } else {\r\n            const result = move(state[sInd], state[dInd], source, destination);\r\n            const newState = [...state];\r\n            newState[sInd] = result[sInd];\r\n            newState[dInd] = result[dInd];\r\n            setState(newState);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={'kanban-wrapper'} style={{height: height}}>\r\n                <div className={'column-container'}>\r\n                    <div className={'column-wrapper'}>\r\n                        <DragDropContext onDragEnd={onDragEnd}>\r\n                            {state.map((el, ind) => (\r\n                                <Droppable key={ind} droppableId={`${ind}`}>\r\n                                    {(provided: any, snapshot: any) => (\r\n                                        <div\r\n                                            className={'column'}\r\n                                            ref={provided.innerRef}\r\n                                            {...provided.droppableProps}\r\n                                        >\r\n                                            {\r\n                                                snapshot.isDraggingOver &&\r\n                                                <div className={'mask'}>\r\n                                                    <span>{getKanbanTitle(ind)}</span>\r\n                                                </div>\r\n                                            }\r\n                                            <div className={'column-header'}>\r\n                                                <div className=\"title\">{getKanbanTitle(ind)}</div>\r\n                                                <div className={'num-tag'}>{el.length}</div>\r\n                                            </div>\r\n                                            <div className={'items'}>\r\n                                                {el.map((item: Issue, index: number) => (\r\n                                                    <Draggable\r\n                                                        key={`${item.id}`}\r\n                                                        draggableId={`${item.id}`}\r\n                                                        index={index}\r\n                                                    >\r\n                                                        {(provided: any, snapshot: any) => (\r\n                                                            <div\r\n                                                                className={'card'}\r\n                                                                ref={provided.innerRef}\r\n                                                                {...provided.draggableProps}\r\n                                                                {...provided.dragHandleProps}\r\n                                                            >\r\n                                                                <div className={'header'} onClick={() => {\r\n                                                                    onIssueClick && onIssueClick(item)\r\n                                                                }}>\r\n                                                                    <div className={'title'}>{item.title}</div>\r\n                                                                    {/* 预留做标签的section*/}\r\n                                                                    <div className=\"label-section\">\r\n                                                                        {item.deadline &&\r\n                                                                        <span\r\n                                                                            className={'date-label'}>{item.deadline}截止</span>}\r\n                                                                    </div>\r\n                                                                    <div className={'footer'}>\r\n                                                                        <div className={'left'}>\r\n                                                                            {switchIssueType(item.issueType)}\r\n                                                                            <span className={'id'}>#{item.id}</span>\r\n                                                                        </div>\r\n                                                                        <div className={'right'}>\r\n                                                                            <div\r\n                                                                                className={'priority'}>{switchIssuePriority(item.priority)}</div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </Draggable>\r\n                                                ))}\r\n                                            </div>\r\n                                            {provided.placeholder}\r\n                                        </div>\r\n                                    )}\r\n                                </Droppable>\r\n                            ))}\r\n                        </DragDropContext>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nKanban.defaultProps = {\r\n    height: '600px',\r\n}\r\nexport default Kanban\r\n","import React from 'react';\r\nimport Button from \"./components/Button/button\";\r\nimport './styles/index.scss'\r\nimport './App.css'\r\nimport Kanban from \"./components/Kanban/kanban\";\r\nimport { getKanbanTitle } from \"./components/Kanban/util\";\r\n\r\nfunction App() {\r\n    return (\r\n        <>\r\n            <div>\r\n                <h2>Button组件</h2>\r\n                <Button btnType={'default'}> 注 册 </Button>\r\n                <Button btnType={'default'}> 登 录 </Button>\r\n                <Button btnType={'default'} disabled> 登 录(disabled) </Button>\r\n                <Button btnType={'default'}> 删 除 </Button>\r\n                <Button btnType={'default'} disabled> 删 除 </Button>\r\n            </div>\r\n            <div>\r\n                <Button size={'sm'} btnType={'primary'}> 注 册 </Button>\r\n                <Button size={'sm'} btnType={'default'}> 登 录 </Button>\r\n                <Button size={'sm'} btnType={'default'} disabled> 登 录(disabled) </Button>\r\n                <Button size={'sm'} btnType={'danger'}> 删 除 </Button>\r\n                <Button size={'sm'} btnType={'danger'} disabled> 删 除 </Button>\r\n            </div>\r\n            <div>\r\n                <Button size={'lg'} btnType={'primary'}> 注 册 </Button>\r\n                <Button size={'lg'} btnType={'default'}> 登 录 </Button>\r\n                <Button size={'lg'} btnType={'default'} disabled> 登 录(disabled) </Button>\r\n                <Button size={'lg'} btnType={'danger'}> 删 除 </Button>\r\n                <Button size={'lg'} btnType={'danger'} disabled> 删 除 </Button>\r\n            </div>\r\n            <div>\r\n                <h2>看板组件</h2>\r\n                <Kanban\r\n                    records={[\r\n                        {\r\n                            id: 1,\r\n                            title: 'test',\r\n                            status: 'done',\r\n                            priority: \"emergency\",\r\n                            issueType: 'shishi',\r\n                            deadline: '2021年9月10日'\r\n                        },\r\n                        {\r\n                            id: 2,\r\n                            title: '[示例任务]-增加邮件邀请成员弹窗并完成邀请成员交互功能',\r\n                            status: 'notStarted',\r\n                            priority: \"high\",\r\n                            issueType: 'renwu',\r\n                            deadline: '2021年9月10日'\r\n                        }, {\r\n                            id: 3,\r\n                            title: '[示例需求]-通过访问邀请链接可注册成为团队成员',\r\n                            status: 'notStarted',\r\n                            priority: \"middle\",\r\n                            issueType: 'shishi',\r\n                            deadline: '2021年9月10日'\r\n                        }, {\r\n                            id: 4,\r\n                            title: '需求2',\r\n                            status: 'test',\r\n                            priority: \"emergency\",\r\n                            issueType: 'bug',\r\n                            deadline: '2021年9月10日'\r\n                        }, {\r\n                            id: 5,\r\n                            title: '需求2',\r\n                            status: 'dev',\r\n                            priority: \"low\",\r\n                            issueType: 'xuqiu',\r\n                            deadline: '2021年9月10日'\r\n                        }, {\r\n                            id: 6,\r\n                            title: '需求2',\r\n                            status: 'dev',\r\n                            priority: \"high\",\r\n                            issueType: 'bug',\r\n                            deadline: '2021年9月10日'\r\n                        }, {\r\n                            id: 7,\r\n                            title: '需求2',\r\n                            status: 'notStarted',\r\n                            priority: \"middle\",\r\n                            issueType: 'xuqiu',\r\n                            deadline: '2021年9月10日'\r\n                        },\r\n                    ]}\r\n                    onIssueDragEnd={(issue, targetStatus) => {\r\n                        alert(`Issue ${JSON.stringify(issue)} 被拖放至 ${getKanbanTitle(targetStatus)}`);\r\n                    }}\r\n                    onIssueClick={(issue) => {\r\n                        alert(`Issue ${JSON.stringify(issue)} 被点击`);\r\n                    }}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import Button from './button'\r\n\r\nexport default Button\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n// =========================\r\nexport { default as Button } from './components/Button'\r\nexport { default as Kanban } from './components/Kanban/kanban'\r\n"],"sourceRoot":""}